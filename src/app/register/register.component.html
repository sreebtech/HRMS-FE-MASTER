<div id="main-content">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row clearfix">
                <div class="col-lg-12">
                    <div class="card">
                        <form #rfrm="ngForm" novalidate>
                            <div class="body">
                                <div class="row clearfix">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>CompanyId:</label>
                                            <span style="color: red;">*</span>
                                            <input type="text" name="companyid" maxlength="30" minlength="0"
                                                class="form-control" placeholder="CompanyId"
                                                [(ngModel)]="subscriptionAddObj.companyID" #companyid=ngModel required>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!companyid.errors.required"
                                                *ngIf="companyid.errors && (companyid.touched || companyid.dirty)">
                                                This field is Required</span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Company Name:</label>
                                            <!-- <span style="color: red;">*</span> -->

                                            <input type="text" name="companyname" maxlength="30" minlength="3"
                                                class="form-control" placeholder="Company Name"
                                                [(ngModel)]="subscriptionAddObj.companyName" #companyname=ngModel
                                                required>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!companyname.errors.required"
                                                *ngIf="companyname.errors && (companyname.touched || companyname.dirty)">
                                                Name Required</span>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!companyname.errors.minlength || companyname?.errors.pattern"
                                                *ngIf="companyname.errors">
                                                Name with min 3 chars.</span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Email:</label>
                                            <span style="color: red;">*</span>

                                            <input type="email" maxlength="40" name="email"
                                                pattern="[a-zA-Z0-9._]{2,}@[a-zA-Z]{2,}\.[a-zA-Z]{2,3}$"
                                                class="form-control" placeholder="Email"
                                                [(ngModel)]="subscriptionAddObj.email" #email="ngModel" required>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!email.errors.required"
                                                *ngIf="email.errors && (email.touched || email.dirty)">This
                                                Field is Required</span>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!email.errors.pattern"
                                                *ngIf="email.errors && (email.touched || email.dirty)">Please
                                                Enter Valid Email </span>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!email.errors.maxlength || email?.errors.pattern"
                                                *ngIf="email.errors">
                                                valid email.</span>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Password:</label>
                                            <input type="password" class="form-control" placeholder="Password"
                                                name="password" [(ngModel)]="subscriptionAddObj.passWord"
                                                #password="ngModel" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Contact Number:</label>
                                            <span style="color: red;">*</span>

                                            <input type="tel" minlength="10" maxlength="10" autocomplete="off"
                                                pattern="([0-9])+(?:-?\d){8,15}" required class="form-control"
                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                name="mobile" [(ngModel)]="subscriptionAddObj.contactNumber"
                                                #mobile="ngModel" placeholder="Contact Number" required>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!mobile.errors.required"
                                                *ngIf="mobile.errors && (mobile.touched || mobile.dirty)">This
                                                Field is Required</span>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!mobile.errors.pattern"
                                                *ngIf="mobile.errors && (mobile.touched || mobile.dirty)">Please
                                                Enter Valid mobile </span>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!mobile.errors.maxlength || mobile?.errors.pattern"
                                                *ngIf="mobile.errors">
                                                valid email.</span>

                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Subscription Type:</label>
                                            <span style="color: red;">*</span>
                                            <select required class="form-control" placeholder="Subscription Type"
                                                name="substype" [(ngModel)]="subscriptionAddObj.subscriptionType"
                                                #substype="ngModel" required>
                                                <option hidden [value]=""  selected>Select Subscription Type</option>
                                                <option>Basic</option>
                                                <option>Premium</option>
                                                <option>Advanced</option>
                                            </select>
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!substype.errors.required"
                                                *ngIf="substype.errors && (substype.touched || substype.dirty)">This
                                                Field is Required</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Subscription Validity:</label>
                                            <!-- <input type="text" class="form-control" placeholder="Subscription Validity"
                                                name="subValidity" [(ngModel)]="subscriptionAddObj.subscriptionValidity"
                                                #subValidity="ngModel" required> -->

                                            <input type="text" autocomplete="off" 
                                                placeholder="Subscription Validity"
                                                [(ngModel)]="subscriptionAddObj.subscriptionValidity" bsDatepicker
                                                [bsConfig]="{containerClass: 'theme-dark-blue'}" class="form-control"
                                                required name="subValidity" #subValidity="ngModel"
                                                onkeypress="return (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122)"
                                                >
                                            <span style="font-size: small" class="text-danger"
                                                [hidden]="!subValidity.errors.required"
                                                *ngIf="subValidity.errors && (subValidity.touched || subValidity.dirty)">This
                                                Field is Required</span>

                                        </div>
                                    </div>
                                    <div class="col-12" *ngIf='!subscriptionAddObj.id'>
                                        <button type="button" class="btn btn-primary" [disabled]="!rfrm.valid"
                                            (click)="saveCompany()">Register</button>
                                    </div>

                                    <div class="col-12" *ngIf='subscriptionAddObj.id'>
                                        <button type="button" class="btn btn-primary" [disabled]="!rfrm.valid"
                                            (click)="saveCompany()">Update</button>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>